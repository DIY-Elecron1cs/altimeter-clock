# altimeter-clock
часы-высотомер

![часы-высотомер](https://github.com/DIY-Elecron1cs/altimeter-clock/blob/main/images/main.jpg?raw=true)

## управление
### основные режимы
- Кнопками ВПРАВО/ВЛЕВО можно переключать между основными режимами ("TIME" и "METEO").
- Кнопкой ВВЕРХ вызывается режим энергосбережения. В нём отображаются только часы.
- Выйти из режима энергосбережения можно с помощью кнопок ВНИЗ/ВЛЕВО/ВПРАВО.
- Кнопкой ВНИЗ вызывается полная заливка дисплея белым (фонарик).
- Выйти из режима фонарика можно с помощью кнопок ВВЕРХ/ВЛЕВО/ВПРАВО.

- Нажатие на кнопку ОК вызывает главные настройки (режим SETTINGS).
### в режиме SETTINGS
- Кнопками ВНИЗ/ВВЕРХ осуществляется перемещение по основным параметрам.
- В первом пункте меню находится настройка РЕЖИМ. С помощью кнопок ВЛЕВО/ВПРАВО можно менять режим на значения "РУЧН." или "КОМБ." (соответственно "ручной" и "комбинированный"). В режиме "РУЧН." управление по главному меню осуществляется вручную, а в режиме "КОМБ." – экраны "TIME" и "METEO" меняются каждые 3 секунды.
- Во втором пункте находится настройка режима по умолчанию ("TIME" или "METEO"). Меняется кнопками ВЛЕВО/ВПРАВО. Выбранный режим отображается при включении.
- Строка КОРРЕКТ позволяет линейно корректировать высоту в МНУМ (метрах над уровнем моря), так же кнопками ВЛЕВО/ВПРАВО.

#### выход из SETTINGS и сохранение настроек
- Выйти из режима SETTINGS можно двумя способами: EXIT и EXIT+SAVE (предпоследний и последний пункт меню). Для выхода нужно на одном из этих пунктов нажать ВЛЕВО или ВПРАВО.
- Выход с помощью EXIT просто выходит из настроек, и настройки сбрасываюся при выключении.
- При выходе с помощью EXIT+SAVE данные сохраняются в энергонезависимой памяти (EEPROM).

## компоненты (модули)
- Arduino NANO
- DS3231 (модуль часов реального времени)
- BME280 (датчик температуры/влажности/давления)
- TP4056 (зарядник для литиевых аккумуляторов)
- Mini DC-DC Step Up Converter Board Module (гуглить именно так, какого-то определённого названия у него нет)

## плата, сборка
![вид внутри](https://github.com/DIY-Elecron1cs/altimeter-clock/blob/main/images/%D0%B2%D0%BD%D1%83%D1%82%D1%80%D0%B8.jpg?raw=true)

![вид платы с лицевой стороны](https://github.com/DIY-Elecron1cs/altimeter-clock/blob/main/images/%D0%BF%D0%BB%D0%B0%D1%82%D0%B0%20%D1%81%D0%BF%D0%B5%D1%80%D0%B5%D0%B4%D0%B8.jpg?raw=true)

## корпус
Файлы 3D моделей корпуса, подставки и кнопок есть в директории [3dprint](https://github.com/DIY-Elecron1cs/altimeter-clock/tree/main/3dprint). Для печати подходят как STL, так и STEP форматы. Последний чуть более детализированный.

### кнопки
Так как кнопки могут быть разной высоты и припаяны немного под разным углом, расстояние от корпуса до кнопки может быть разными. В директории [buttons](https://github.com/DIY-Elecron1cs/altimeter-clock/tree/main/3dprint/buttons) есть калибровочные кнопки разной высоты.
Чтобы не было дребезга кнопок советую вырезать шаблон из микропористой резины (или ещё чего-то мягкого) и вставить в него распечатанные кнопки.

![сборка в Компас 3D](https://github.com/DIY-Elecron1cs/altimeter-clock/blob/main/images/%D1%81%D0%B1%D0%BE%D1%80%D0%BA%D0%B0_%D1%84%D0%BE%D1%82%D0%BE.png?raw=true)

## обратная связь
По вопросам писать в наш [чат в ТГ](https://t.me/DiyElectronicsChat) или в группу с комментариями к каналу [DIY electronics](https://t.me/diy_electron1cs)

![часы-высотомер, вид 1](https://github.com/DIY-Elecron1cs/altimeter-clock/blob/main/images/%D1%80%D0%B5%D0%B7%D1%83%D0%BB%D1%8C%D1%82%D0%B0%D1%82%20(%D1%81%D0%B1%D0%BE%D0%BA%D1%83).jpg?raw=true)
